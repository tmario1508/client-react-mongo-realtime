(this["webpackJsonpthought-wall"]=this["webpackJsonpthought-wall"]||[]).push([[0],{127:function(e,t){},150:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(8),s=a.n(o),c=a(24),i=a(25),l=a.n(i),h=a(86),u=a(45),d=a(79),g=a(80),m=a(88),p=a(87),f=a(192),b=a(186),E=a(187),w=a(185),v=a(189),k=a(188),C=a(190),j=a(33),x=a(4),y=a(81),A=a.n(y),O=a(52),D=a.n(O),M={baseURL:"/api",socketURL:"https://thoughtwall.herokuapp.com/api"},S=function(e){return{name:{color:"white"},button:{backgroundColor:"#F37335",color:"white"},greenButton:{backgroundColor:"rgb(0, 204, 0)",color:"white","&:hover":{backgroundColor:"rgb(0, 204, 0)"}},redButton:{backgroundColor:"rgb(255, 51, 0)",color:"white","&:hover":{backgroundColor:"rgb(255, 51, 0)"}},card:{minWidth:150},cardHeader:{textAlign:"center",backgroundColor:"rgb(249, 122, 22)"},cardContent:{textAlign:"center",backgroundColor:"rgb(245, 146, 70)"},cardActions:{justifyContent:"center"}}},T=a(179),P=a(183),N=a(184),I=Object(x.a)(S)((function(e){var t=e.classes;return r.a.createElement(T.a,{className:t.card},r.a.createElement(P.a,{title:e.name,titleTypographyProps:{variant:"h5"},className:t.cardHeader}),r.a.createElement(N.a,{className:t.cardContent},r.a.createElement(j.a,{variant:"body1"},e.description)))})),B=function(e){return e.thoughts.map((function(e,t){return r.a.createElement(w.a,{item:!0},r.a.createElement(I,{name:e.name,description:e.description,key:t}))}))},L=function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(d.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={showAddDialog:!1,thoughts:[],name:"",description:"",nameError:!1,descriptionError:!1,nameErrorMsg:"",descriptionErrorMsg:""},e.componentDidMount=Object(u.a)(l.a.mark((function t(){var a;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(a=A()("".concat(M.socketURL,"/socket"))).on("newPostit",(function(t){e.setState({thoughts:[].concat(Object(h.a)(e.state.thoughts),[t])})})),a.on("deletedPostit",(function(t){var a=e.state.thoughts.filter((function(e){return e._id!==t}));e.setState({thoughts:a})})),a.on("postitsCleared",(function(){e.setState({thoughts:[]})})),t.next=6,e.fetchThoughts();case 6:case"end":return t.stop()}}),t)}))),e.fetchThoughts=Object(u.a)(l.a.mark((function t(){var a;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,D.a.get("".concat(M.baseURL,"/wall/getPostits"));case 3:(a=t.sent).data.success?(console.log(a.data.message),e.setState({thoughts:a.data.message})):alert(a.data.message),t.next=11;break;case 7:t.prev=7,t.t0=t.catch(0),console.log("Error with fetching thoughts: ",t.t0),alert("Error with fetching thought. Please check the console for more info.");case 11:case"end":return t.stop()}}),t,null,[[0,7]])}))),e.toggleAddDialog=function(){e.setState({showAddDialog:!e.state.showAddDialog},(function(){e.state.showAddDialog||e.setState({name:"",description:""})}))},e.handleChange=function(t){var a=t.target.value,n=t.target.name;switch(n){case"name":a.length>20&&(a=a.substr(0,20)),e.setState(Object(c.a)({},n,a));break;case"description":a.length>100&&(a=a.substr(0,100)),e.setState(Object(c.a)({},n,a))}},e.handleInputValidation=function(){for(var t=!0,a=0,n=[{name:"name",whitespaceMsg:"*Please enter a name."},{name:"description",whitespaceMsg:"*Please enter description."}];a<n.length;a++){var r,o,s=n[a];if(e.state[s.name].replace(/\s/g,"").length)e.setState((r={},Object(c.a)(r,s.name+"ErrorMsg",""),Object(c.a)(r,s.name+"Error",!1),r));else e.setState((o={},Object(c.a)(o,s.name+"ErrorMsg",s.whitespaceMsg),Object(c.a)(o,s.name+"Error",!0),o)),t=!1}return t},e.addThought=Object(u.a)(l.a.mark((function t(){var a;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.handleInputValidation()){t.next=12;break}return t.prev=1,t.next=4,D.a.post("".concat(M.baseURL,"/wall/addPostit"),{name:e.state.name,description:e.state.description});case 4:(a=t.sent).data.success?(e.toggleAddDialog(),alert(a.data.message)):alert(a.data.message),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(1),console.log("Error with adding thought: ",t.t0),alert("Error with adding thought. Please check the console for more info.");case 12:case"end":return t.stop()}}),t,null,[[1,8]])}))),e}return Object(g.a)(a,[{key:"render",value:function(){var e=this.props.classes;return r.a.createElement(r.a.Fragment,null,r.a.createElement(f.a,{open:this.state.showAddDialog,onClose:this.toggleAddDialog},r.a.createElement(b.a,null,r.a.createElement("span",{style:{fontWeight:"bold"}},"Add a Thought")),r.a.createElement(E.a,null,r.a.createElement(w.a,{container:!0,justify:"flex-start",alignItems:"flex-start",spacing:2},r.a.createElement(w.a,{item:!0,xs:6},r.a.createElement(v.a,{fullWidth:!0,variant:"outlined",label:"Name",size:"small",name:"name",value:this.state.name,onChange:this.handleChange,error:this.state.nameError,helperText:this.state.nameErrorMsg})),r.a.createElement(w.a,{item:!0,xs:12},r.a.createElement(v.a,{fullWidth:!0,multiline:!0,variant:"outlined",label:"Description",size:"small",name:"description",value:this.state.description,onChange:this.handleChange,error:this.state.descriptionError,helperText:this.state.descriptionErrorMsg})))),r.a.createElement(k.a,null,r.a.createElement(C.a,{color:"primary",variant:"contained",onClick:this.toggleAddDialog,className:e.redButton},"Cancel"),r.a.createElement(C.a,{color:"primary",variant:"contained",onClick:this.addThought,className:e.greenButton},"Confirm"))),r.a.createElement(w.a,{container:!0,spacing:2,direction:"row",justify:"space-between",alignItems:"center",style:{backgroundColor:"#E94057"}},r.a.createElement(w.a,{item:!0},r.a.createElement(j.a,{variant:"h3",className:e.name},"Thought Wall")),r.a.createElement(w.a,{item:!0},r.a.createElement(C.a,{size:"small",variant:"contained",className:e.button,onClick:this.toggleAddDialog},"Add Thought"))),r.a.createElement("br",null),r.a.createElement(w.a,{container:!0,spacing:2,direction:"row",justify:"center",alignItems:"center"},r.a.createElement(B,{thoughts:this.state.thoughts})))}}]),a}(n.Component),R=Object(x.a)(S)(L);s.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(R,null)),document.getElementById("root"))},95:function(e,t,a){e.exports=a(150)}},[[95,1,2]]]);
//# sourceMappingURL=main.f339ea24.chunk.js.map